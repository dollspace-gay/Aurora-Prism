# Backfill Resource Optimization Configuration
# See BACKFILL_OPTIMIZATION.md for detailed documentation

# ============================================================
# Backfill Days Configuration
# ============================================================
# 0 = disabled (no backfill)
# -1 = total backfill (entire available history)
# >0 = backfill X days of history
BACKFILL_DAYS=7

# ============================================================
# Resource Throttling (Background Task Profile - Default)
# ============================================================
# Very conservative settings for minimal system impact
# Processes ~2.5 events/sec (~9,000 events/hour)

# Batch size: Number of events to process before delaying
BACKFILL_BATCH_SIZE=5

# Batch delay: Milliseconds to wait between batches
BACKFILL_BATCH_DELAY_MS=2000

# Max concurrent: Maximum concurrent event processing operations
BACKFILL_MAX_CONCURRENT=2

# Memory limit: Pause if memory usage exceeds this (in MB)
BACKFILL_MAX_MEMORY_MB=512

# Idle processing: Use Node.js event loop idle time (true/false)
BACKFILL_USE_IDLE=true

# Database pool: Dedicated connection pool size for backfill
BACKFILL_DB_POOL_SIZE=2

# ============================================================
# Alternative: Moderate Speed Profile
# ============================================================
# Uncomment for faster backfill (~20 events/sec, ~72K events/hour)
# BACKFILL_BATCH_SIZE=20
# BACKFILL_BATCH_DELAY_MS=1000
# BACKFILL_MAX_CONCURRENT=5
# BACKFILL_MAX_MEMORY_MB=1024
# BACKFILL_USE_IDLE=true
# BACKFILL_DB_POOL_SIZE=3

# ============================================================
# Alternative: Fast Backfill Profile
# ============================================================
# Uncomment for high-speed backfill (~100 events/sec, ~360K events/hour)
# Best for high-memory servers with dedicated backfill time
# BACKFILL_BATCH_SIZE=50
# BACKFILL_BATCH_DELAY_MS=500
# BACKFILL_MAX_CONCURRENT=10
# BACKFILL_MAX_MEMORY_MB=2048
# BACKFILL_USE_IDLE=false
# BACKFILL_DB_POOL_SIZE=5

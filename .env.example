# AT Protocol AppView Environment Configuration
# Copy this file to .env and fill in your values

# ============================================
# REQUIRED: Database Configuration
# ============================================
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
# IMPORTANT: Replace 'atproto' with your actual database name or create it first:
#   psql -U postgres -c "CREATE DATABASE atproto;"
DATABASE_URL=postgresql://postgres:password@localhost:5432/atproto

# ============================================
# REQUIRED: Security
# ============================================
# Secret key for JWT signing and encryption
# Generate with: openssl rand -base64 32
SESSION_SECRET=change-this-to-a-random-secret-key

# ============================================
# OPTIONAL: Firehose Configuration
# ============================================
# AT Protocol relay URL for firehose connection
# Default: wss://bsky.network
RELAY_URL=wss://bsky.network

# Enable historical backfill (DANGEROUS - will consume massive resources)
# WARNING: Do NOT enable this in production without proper resource planning
# Backfill will attempt to download and process ALL historical data from the network
# This can take days/weeks and requires significant disk space and memory
# Default: false
ENABLE_BACKFILL=false

# ============================================
# OPTIONAL: AppView Identity
# ============================================
# DID (Decentralized Identifier) for this AppView instance
# Used to sign JWTs when authenticating to external feed generators
#
# OPTIONS:
# 1. Use your domain (recommended if you have one):
#    APPVIEW_DID=did:web:yourappview.com
#    Requirements: You must own the domain and be able to host a DID document
#    
# 2. Leave blank for development/testing (uses default did:web:appview.local)
#    This works but won't be recognized by external services
#
# 3. Create a did:plc identifier (advanced):
#    Register at https://plc.directory and use the generated DID
#    APPVIEW_DID=did:plc:your-generated-id
#
# For most users: Leave this blank or use did:web:<your-domain> if you have one
APPVIEW_DID=

# ============================================
# OPTIONAL: Server Configuration
# ============================================
# Port for the application server
# Default: 5000
PORT=5000

# Node environment
# Options: development, production
NODE_ENV=production
